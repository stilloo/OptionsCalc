

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Options History</title>
      <link href="@{'/public/stylesheets/layout.css'}" rel="stylesheet" type="text/css">
   <!--[if lte IE 8]><script language="javascript" type="text/javascript" src="../excanvas.min.js"></script><![endif]-->
    <script language="javascript" type="text/javascript" src="@{'/public/javascripts/jquery-1.7.1.js'}"></script>
   <script language="javascript" type="text/javascript" src="@{'/public/javascripts/jquery.flot.js'}"></script>
    <script language="javascript" type="text/javascript" src="@{'/public/javascripts/jquery-1.7.1.js'}"></script>
   
  <!-- Le styles -->
    <link href="@{'/public/stylesheets/bootstrap.css'}" rel="stylesheet">
   
    <link href="@{'/public/stylesheets/bootstrap-responsive.css'}" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

 </head>
    <body>
    <h1>Options Detail Data</h1>

    <div id="placeholder" style="width:600px;height:300px;"></div>

    

<script type="text/javascript">
$(function () {
    var optionsData = [
    %{
    	
    	java.util.Iterator itr = detailData.optionsDatePrice.entrySet().iterator();
        while (itr.hasNext()) {
            java.util.Map.Entry pairs = (java.util.Map.Entry)itr.next();
             
     %}

        [${pairs.getKey()}, ${pairs.getValue()}]
        
     %{
    	 
    	 if(itr.hasNext())
    		 {
   %} 		 
    			,
       %{ }
     }
    %}
    ];  
  
    function doPlot(position) {
        $.plot($("#placeholder"),
           [ { data: optionsData, label: "Option price ($)" }],
           { 
        	grid: {
            hoverable: true, clickable: true },
            crosshair: { mode: "x" },
               xaxes: [ { mode: 'time' } ],
               yaxes: [ { min: 0 }],
           });
    }

    doPlot("right");
    
    $("button").click(function () {
        doPlot($(this).text());
    });
});
</script>
 </body>
</html>